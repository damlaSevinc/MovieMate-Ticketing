<app-header></app-header>
<div class="container text-white col-md-8 mt-5">
  <div class="row d-flex justify-content-between">
    <button class="col-md-2 rounded-2" (click)="backToShowtimes()"> Back to Showtimes </button>
    <h2 class="col-md-8 text-center"> Seat Selection </h2>
    <button class="col-md-2 rounded-2" (click)="closeSeatSelection()"> Close </button>
  </div>
  <div class="row text-center">
    <h5 class="p-2">{{ movie?.name }} | {{ showtime?.session?.startTime | slice: 0:5 }} | {{ selectedDate }}</h5>
</div>
  <div class="row py-5">
    <div class="col-md-8 offset-md-2">
      <div class="seat-map border p-5 rounded-5">
        <div class="row d-flex justify-content-center m-2"> Screen </div>
        <div *ngFor="let row of rows" class="row seat-row p-2 mx-3"> {{row.number}}. Row
          <div *ngFor="let seat of row.seats" class="col seat " [class.selected]="seat.selected"
            [class.unavailable]="!seat.available" [class.selectable]="seat.available"
            (click)="seat.available && toggleSeatSelection(seat)">
            <div class="position-relative">
              <i class="material-icons seat-icon material-icon-large">chair</i>
              <span class="position-absolute top-50 start-50 translate-middle seat-number m-2">{{ seat.number }}</span>
            </div>
          </div>
        </div>
      </div>
      <div class="row d-flex justify-content-end p-3">
        <div class="col-md-4"> {{ getSelectedSeatCount() }} Seat(s) selected</div>
        <div class="col-md-2">
          <button class="btn btn-dark" (click)="goToCheckout()"> Continue </button>
        </div>
      </div>
    </div>
  </div>


</div>
<app-footer></app-footer>